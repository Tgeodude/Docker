## Part1. Готовый докер

##### Взять официальный докер образ с **nginx** и выкачать его при помощи `docker pull`

![1.1](img/1.1.png)

##### Проверить наличие докер образа через `docker images`

![1.2](img/1.1.png)

##### Запустить докер образ через `docker run -d [image_id|repository]`

![1.3](img/1.1.png)

##### Проверить, что образ запустился через `docker ps`

![1.4](img/1.4.png)

##### Посмотреть информацию о контейнере через `docker inspect [container_id|container_name]`

![1.5](img/1.1.png)

#### Посмотреть размер контейнера

![1.6](img/1.1.png)

#### Посмотреть список замапленных портов

![1.7](img/1.1.png)

#### Посмотреть ip контейнера

![1.8](img/1.1.png)

##### Остановить докер образ через `docker stop [container_id|container_name]`

![1.9](img/1.1.png)

##### Проверить, что образ остановился через `docker ps`

![1.10](img/1.1.png)

##### Запустить докер с портами 80 и 443 в контейнере, замапленными на такие же порты на локальной машине, через команду *run*
##### Проверить, что в браузере по адресу *localhost:80* доступна стартовая страница **nginx**

![1.11](img/1.1.png)

##### Перезапустить докер контейнер через `docker restart [container_id|container_name]` и проверить работоспособность ('docker ps')

![1.12](img/1.2.png)

#### Стартовая страница nginx по адресу localhost:80

![1.13](img/1.2.png)



## Part 2. Операции с контейнерами

##### Прочитать конфигурационный файл *nginx.conf* внутри докер контейнера через команду *exec*

![2.1](img/2.1.png)

##### Создать на локальной машине файл *nginx.conf*

![2.2](img/2.1.png)

##### Настроить в нем по пути */status* отдачу страницы статуса сервера **nginx**

![2.3](img/2.1.png)

##### Скопировать созданный файл *nginx.conf* внутрь докер образа через команду `docker cp`

![2.4](img/2.1.png)

##### Перезапустить **nginx** внутри докер образа через команду *exec*

![2.5](img/2.1.png)

##### Проверить, что по адресу *localhost:80/status* отдается страничка со статусом сервера **nginx**

![2.6](img/2.2.png)

##### Экспортировать контейнер в файл *container.tar* через команду *export*

![2.7](img/2.2.png)

##### Остановить контейнер

![2.8](img/2.2.png)

##### Удалить образ через `docker rmi [image_id|repository]`, не удаляя перед этим контейнеры


![2.9](img/2.2.png)

##### Удалить остановленный контейнер

![2.10](img/2.3.png)

##### Импортировать контейнер обратно через команду *import*

![2.11](img/2.3.png)

##### Запустить импортированный контейнер

![2.12](img/2.3.png)

##### Проверить, что по адресу *localhost:80/status* отдается страничка со статусом сервера **nginx**

![2.13](img/2.3.png)

## Part  3. Мини веб-сервер

##### Написать мини сервер на **C** и **FastCgi**, который будет возвращать простейшую страничку с надписью `Hello World!`

![3.1](img/3.1.png)

##### Написать свой *nginx.conf*, который будет проксировать все запросы с 81 порта на *127.0.0.1:8080*

![3.2](img/3.2.png)

##### Запустить написанный мини сервер через *spawn-fcgi* на порту 8080

##### Положить файл *nginx.conf* по пути *./nginx/nginx.conf* (это понадобится позже)

![3.3](img/3.2.png)

- ##### Запустим контейнер

![3.4](img/3.2.png)

- ##### Скопируем *nginx.conf* и *miniserver.c* в контейнер

![3.5](img/3.3.png)

- ##### Подключимся к контейнеру и установим нужные пакеты

![3.6](img/3.4.png)
- ##### Запустим сервер

![3.7](img/3.5.png)

#### Проверим, что в браузере по [localhost:81](localhost:81) возвращается страница написанная нами

![3.8](img/3.5.png)

## Part 4. Свой докер

#### Создать докерфайл

![4.1](img/4.1.png)

#### Создать скрипт, выполняющий роль *entrypoint*

![4.2](img/4.1.png)

#### Собрать образ через `docker build` при этом указав имя

![4.3](img/4.1.png)

#### Проверить через `docker images`, что всё собралось как надо

![4.4](img/4.1.png)

#### Запустить собранный докер с маппингом 81 порта на 80 порт на локальной машине и маппингом папки *./nginx* внутрь контейнера по адресу, где лежат конфигурационные файлы

![4.5](img/4.2.png)

#### Проверить, что всё успешно работает пройдя по странице [localhost:81](localhost:81)

![4.6](img/4.2.png)

#### Выключить контейнер и допишем в *nginx.conf* проксирование странички ***/status***, по которой мы будем отдавать статус nginx

![4.7](img/4.2.png)

#### Снова запустить сервер и заглядываем в браузер

![4.8](img/4.3.png)

## Part 5. Dockle

#### Установка **Dockle**

![5.1](img/5.1.png)

#### Проверка образа

![5.2](img/5.2.png)

#### После исправлений получилось это

![5.3](img/5.2.png)

## Part 6. Базовый Docker Compose

#### Для начала напишем(перепишем) скрипт для *entrypoint*, чтобы второй контейнер не завершал работу после `docker-compose up`

![6.1](img/6.1.png)

#### Перепишем *nginx.conf* для проксирования

![6.2](img/6.2.png)

##### Написать файл *docker-compose.yml*, с помощью которого:
##### 1) Поднять докер контейнер из [Части 5](#part-5-инструмент-dockle) _(он должен работать в локальной сети, т.е. не нужно использовать инструкцию **EXPOSE** и мапить порты на локальную машину)_
##### 2) Поднять докер контейнер с **nginx**, который будет проксировать все запросы с 8080 порта на 81 порт первого контейнера

![6.3](img/6.3.png)

#### Собрать проект с помощью `docker-compose build`

![6.4](img/6.3.png)

#### Запустить контейнеры командой `docker-compose up`

![6.5](img/6.3.png)

##### Проверить, что в браузере по *localhost:80* отдается написанная вами страничка, как и ранее

![6.6](img/6.4.png)
